import"./auto.DSFENr0L.js";import{r as e,c as a,x as t,o as s,J as l,g as r,h as i,t as n,q as c,n as d,l as o,m as u,b as m,i as b,F as g,k as v,e as p}from"./vendor-vue.CBtg5bt5.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{C as h}from"./vendor-chart.DPoKKmb6.js";const f={class:"dashboard-view"},k={class:"dashboard-header"},x={class:"d-flex justify-content-between align-items-center mb-4"},w={class:"text-muted"},T={class:"row mb-4"},M={class:"col-md-3 col-sm-6 mb-3"},C={class:"stat-card card border-0 h-100"},S={class:"card-body"},j={class:"d-flex justify-content-between align-items-center"},z={class:"mb-0"},D={class:"mt-3 d-flex align-items-center"},A={class:"col-md-3 col-sm-6 mb-3"},E={class:"stat-card card border-0 h-100"},R={class:"card-body"},_={class:"d-flex justify-content-between align-items-center"},K={class:"mb-0"},L={class:"mt-3 d-flex align-items-center"},P={class:"col-md-3 col-sm-6 mb-3"},O={class:"stat-card card border-0 h-100"},B={class:"card-body"},q={class:"d-flex justify-content-between align-items-center"},G={class:"mb-0"},H={class:"mt-3 d-flex align-items-center"},Y={class:"col-md-3 col-sm-6 mb-3"},N={class:"stat-card card border-0 h-100"},V={class:"card-body"},W={class:"d-flex justify-content-between align-items-center"},$={class:"mb-0"},F={class:"mt-3 d-flex align-items-center"},J={class:"row"},Z={class:"col-lg-8 col-md-12 mb-4"},I={class:"card border-0 h-100"},U={class:"card-header bg-transparent border-0 d-flex justify-content-between align-items-center"},Q={class:"card-actions"},X={class:"btn-group"},ee={class:"card-body"},ae={class:"chart-container"},te={class:"col-lg-4 col-md-6 mb-4"},se={class:"card border-0 h-100"},le={class:"card-body d-flex align-items-center justify-content-center"},re={class:"chart-container doughnut-chart-container"},ie={class:"col-lg-6 col-md-12 mb-4"},ne={class:"card border-0 h-100"},ce={class:"card-header bg-transparent border-0 d-flex justify-content-between align-items-center"},de={class:"card-body p-0"},oe={class:"table-responsive"},ue={class:"table table-hover mb-0"},me={key:0},be={class:"text-nowrap text-truncate",style:{"max-width":"200px"}},ge={class:"col-lg-6 col-md-12 mb-4"},ve={class:"card border-0 h-100"},pe={class:"card-header bg-transparent border-0 d-flex justify-content-between align-items-center"},ye={class:"card-body p-0"},he={class:"list-group list-group-flush"},fe={key:0,class:"text-center p-4"},ke={class:"d-flex justify-content-between"},xe={class:"mb-1"},we={class:"mb-1 text-break"},Te={class:"text-muted"},Me=y({__name:"Dashboard",setup(y){!function(){const a=e(!1),t=e(null)}();const Me=e(null),Ce=e(null);let Se=null,je=null;const ze=e("monthly"),De=e({activeOrders:24,ongoingProduction:18,delayedOrders:3,completedOrders:42,ordersTrend:5.2,productionTrend:-2.1,delayedTrend:-1.8,completedTrend:8.7,criticalMaterials:[{code:"137998%",name:"Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC",stock:2,required:8,status:"critical"},{code:"144866%",name:"KAP-80/190-95 Akım Trafosu",stock:3,required:5,status:"warning"},{code:"157322%",name:"Siemens 8DL5 Sekonder Kablo Seti",stock:0,required:2,status:"critical"},{code:"119845%",name:"LED Lamba Kiti (Kırmızı-Yeşil-Sarı) 24V",stock:5,required:10,status:"warning"}],alerts:[{title:"Teslim Tarihi Gecikmesi",time:"1 saat önce",message:"Sipariş No: #0424-1251 - RM 36 CB hücresinin mekanik montajı gecikiyor.",source:"Mekanik Üretim Birimi",type:"danger"},{title:"Malzeme Eksikliği",time:"3 saat önce",message:"Sipariş No: #0424-1245 için gerekli akım trafosu stokta yok.",source:"Satın Alma Birimi",type:"warning"},{title:"Yeni Sipariş",time:"5 saat önce",message:"KEE Enerji için 12 hücrelik yeni bir sipariş oluşturuldu.",source:"Satış Birimi",type:"info"}]}),Ae=a((()=>(new Date).toLocaleDateString("tr-TR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),Ee=async()=>{const a=e(!0);try{await Ye(),Oe()}catch(t){}finally{a.value=!1}},Re=e=>{ze.value=e,Be()},_e=()=>{if(!Me.value)return;const e=Me.value.getContext("2d"),a={labels:"weekly"===ze.value?["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"]:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"].slice(0,(new Date).getMonth()+1),datasets:[{label:"Planlanan Üretim",data:"weekly"===ze.value?[12,15,18,14,16,10,8]:[35,42,45,50,48,55,60,58,62,65,68,70].slice(0,(new Date).getMonth()+1),borderColor:"#0d6efd",backgroundColor:"rgba(13, 110, 253, 0.1)",tension:.4,fill:!0},{label:"Gerçekleşen Üretim",data:"weekly"===ze.value?[10,13,16,14,15,9,7]:[32,38,43,45,42,50,55,52,58,60,63,65].slice(0,(new Date).getMonth()+1),borderColor:"#20c997",backgroundColor:"rgba(32, 201, 151, 0.1)",tension:.4,fill:!0}]},t={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{tooltip:{enabled:!0,mode:"index",intersect:!1},legend:{position:"top",align:"end",labels:{usePointStyle:!0,boxWidth:6,color:Le()}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:document.body.classList.contains("dark-mode")?"rgba(255, 255, 255, 0.1)":"rgba(200, 200, 200, 0.15)"},ticks:{color:Pe()}},x:{grid:{display:!1},ticks:{color:Pe()}}}};try{Se=new h(e,{type:"line",data:a,options:t})}catch(s){}},Ke=()=>{if(!Ce.value)return;const e=Ce.value.getContext("2d"),a={labels:["RM 36 CB","RM 36 Switch","RM 36 VT","RM 36 Cable","RM 36 M+F","RM 36 Others"],datasets:[{data:[35,25,15,10,8,7],backgroundColor:["#0d6efd","#20c997","#ffc107","#fd7e14","#6f42c1","#adb5bd"],borderWidth:0,borderRadius:3}]},t={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:15,boxWidth:8,font:{size:10},color:Le()}},tooltip:{callbacks:{label:e=>`${e.label}: ${e.raw}%`}}},cutout:"65%"};try{je=new h(e,{type:"doughnut",data:a,options:t})}catch(s){}};function Le(){return document.body.classList.contains("dark-mode")?"#e2e2e2":"#6c757d"}function Pe(){return document.body.classList.contains("dark-mode")?"#adb5bd":"#6c757d"}const Oe=()=>{Be(),qe()},Be=()=>{if(Se)try{Se.destroy()}catch(e){}_e()},qe=()=>{if(je)try{je.destroy()}catch(e){}Ke()};t(ze,(()=>{Be()}));const Ge=()=>{Oe()};document.addEventListener("themeChanged",Ge),s((()=>{setTimeout((()=>{_e(),Ke()}),0)})),l((()=>{Se&&(Se.destroy(),Se=null),je&&(je.destroy(),je=null),document.removeEventListener("themeChanged",Ge),window.removeEventListener("resize",He)}));const He=()=>{Se&&Se.resize(),je&&je.resize()},Ye=async()=>{};return(e,a)=>{const t=m("router-link");return p(),r("div",f,[i("div",k,[i("div",x,[i("div",null,[a[2]||(a[2]=i("h2",{class:"page-title"},"Genel Bakış",-1)),i("p",w,"Hoş geldiniz, bugün "+n(Ae.value),1)]),i("div",{class:"dashboard-actions"},[i("div",{class:"date-filter d-flex align-items-center me-2"},[i("button",{class:"btn btn-sm btn-outline-primary",onClick:Ee},a[3]||(a[3]=[i("i",{class:"bi bi-arrow-clockwise"},null,-1),c(" Yenile ")]))])])])]),i("div",T,[i("div",M,[i("div",C,[i("div",S,[i("div",j,[i("div",null,[a[4]||(a[4]=i("h6",{class:"text-muted mb-2"},"Aktif Siparişler",-1)),i("h3",z,n(De.value.activeOrders||0),1)]),a[5]||(a[5]=i("div",{class:"stat-icon bg-primary bg-opacity-10 rounded-circle"},[i("i",{class:"bi bi-file-earmark-text text-primary"})],-1))]),i("div",D,[i("span",{class:d(De.value.ordersTrend>0?"text-success":"text-danger")},[i("i",{class:d(De.value.ordersTrend>0?"bi bi-arrow-up":"bi bi-arrow-down")},null,2),c(" "+n(Math.abs(De.value.ordersTrend||0))+"% ",1)],2),a[6]||(a[6]=i("span",{class:"text-muted ms-2"},"geçen aya göre",-1))])])])]),i("div",A,[i("div",E,[i("div",R,[i("div",_,[i("div",null,[a[7]||(a[7]=i("h6",{class:"text-muted mb-2"},"Devam Eden Üretim",-1)),i("h3",K,n(De.value.ongoingProduction||0),1)]),a[8]||(a[8]=i("div",{class:"stat-icon bg-warning bg-opacity-10 rounded-circle"},[i("i",{class:"bi bi-gear text-warning"})],-1))]),i("div",L,[i("span",{class:d(De.value.productionTrend>0?"text-success":"text-danger")},[i("i",{class:d(De.value.productionTrend>0?"bi bi-arrow-up":"bi bi-arrow-down")},null,2),c(" "+n(Math.abs(De.value.productionTrend||0))+"% ",1)],2),a[9]||(a[9]=i("span",{class:"text-muted ms-2"},"geçen aya göre",-1))])])])]),i("div",P,[i("div",O,[i("div",B,[i("div",q,[i("div",null,[a[10]||(a[10]=i("h6",{class:"text-muted mb-2"},"Geciken Siparişler",-1)),i("h3",G,n(De.value.delayedOrders||0),1)]),a[11]||(a[11]=i("div",{class:"stat-icon bg-danger bg-opacity-10 rounded-circle"},[i("i",{class:"bi bi-exclamation-triangle text-danger"})],-1))]),i("div",H,[i("span",{class:d(De.value.delayedTrend<0?"text-success":"text-danger")},[i("i",{class:d(De.value.delayedTrend<0?"bi bi-arrow-down":"bi bi-arrow-up")},null,2),c(" "+n(Math.abs(De.value.delayedTrend||0))+"% ",1)],2),a[12]||(a[12]=i("span",{class:"text-muted ms-2"},"geçen aya göre",-1))])])])]),i("div",Y,[i("div",N,[i("div",V,[i("div",W,[i("div",null,[a[13]||(a[13]=i("h6",{class:"text-muted mb-2"},"Tamamlanan Siparişler",-1)),i("h3",$,n(De.value.completedOrders||0),1)]),a[14]||(a[14]=i("div",{class:"stat-icon bg-success bg-opacity-10 rounded-circle"},[i("i",{class:"bi bi-check-circle text-success"})],-1))]),i("div",F,[i("span",{class:d(De.value.completedTrend>0?"text-success":"text-danger")},[i("i",{class:d(De.value.completedTrend>0?"bi bi-arrow-up":"bi bi-arrow-down")},null,2),c(" "+n(Math.abs(De.value.completedTrend||0))+"% ",1)],2),a[15]||(a[15]=i("span",{class:"text-muted ms-2"},"geçen aya göre",-1))])])])])]),i("div",J,[i("div",Z,[i("div",I,[i("div",U,[a[16]||(a[16]=i("h5",{class:"card-title mb-0"},"Üretim Durumu",-1)),i("div",Q,[i("div",X,[i("button",{onClick:a[0]||(a[0]=e=>Re("weekly")),class:d(["btn btn-sm","weekly"===ze.value?"btn-primary":"btn-outline-primary"])},"Haftalık",2),i("button",{onClick:a[1]||(a[1]=e=>Re("monthly")),class:d(["btn btn-sm","monthly"===ze.value?"btn-primary":"btn-outline-primary"])},"Aylık",2)])])]),i("div",ee,[i("div",ae,[i("canvas",{ref_key:"productionChart",ref:Me,height:"300"},null,512)])])])]),i("div",te,[i("div",se,[a[17]||(a[17]=i("div",{class:"card-header bg-transparent border-0 d-flex justify-content-between align-items-center"},[i("h5",{class:"card-title mb-0"},"Hücre Tipi Dağılımı")],-1)),i("div",le,[i("div",re,[i("canvas",{ref_key:"cellTypeChart",ref:Ce},null,512)])])])]),i("div",ie,[i("div",ne,[i("div",ce,[a[19]||(a[19]=i("h5",{class:"card-title mb-0"},"Kritik Malzeme Durumu",-1)),o(t,{to:"/materials",class:"btn btn-sm btn-outline-primary"},{default:u((()=>a[18]||(a[18]=[c("Tümünü Gör")]))),_:1})]),i("div",de,[i("div",oe,[i("table",ue,[a[21]||(a[21]=i("thead",null,[i("tr",null,[i("th",null,"Malzeme Kodu"),i("th",null,"Malzeme Adı"),i("th",null,"Stok"),i("th",null,"İhtiyaç"),i("th",null,"Durum")])],-1)),i("tbody",null,[De.value.criticalMaterials&&0!==De.value.criticalMaterials.length?b("",!0):(p(),r("tr",me,a[20]||(a[20]=[i("td",{colspan:"5",class:"text-center py-3"},"Kritik malzeme bulunmamaktadır.",-1)]))),(p(!0),r(g,null,v(De.value.criticalMaterials,((e,a)=>(p(),r("tr",{key:a,class:d("critical"===e.status?"table-danger":"table-warning")},[i("td",null,n(e.code),1),i("td",be,n(e.name),1),i("td",null,n(e.stock),1),i("td",null,n(e.required),1),i("td",null,[i("span",{class:d(["badge","critical"===e.status?"bg-danger":"bg-warning"])},n("critical"===e.status?"Kritik":"Eksik"),3)])],2)))),128))])])])])])]),i("div",ge,[i("div",ve,[i("div",pe,[a[23]||(a[23]=i("h5",{class:"card-title mb-0"},"Son Uyarılar",-1)),o(t,{to:"/notifications",class:"btn btn-sm btn-outline-primary"},{default:u((()=>a[22]||(a[22]=[c("Tümünü Gör")]))),_:1})]),i("div",ye,[i("div",he,[De.value.alerts&&0!==De.value.alerts.length?b("",!0):(p(),r("div",fe,a[24]||(a[24]=[i("i",{class:"bi bi-info-circle text-muted fs-3"},null,-1),i("p",{class:"mt-2"},"Şu an için bildirim bulunmamaktadır.",-1)]))),(p(!0),r(g,null,v(De.value.alerts,((e,a)=>(p(),r("a",{key:a,href:"#",class:d(["list-group-item list-group-item-action py-3 border-0",{"border-danger border-start border-3":"danger"===e.type,"border-warning border-start border-3":"warning"===e.type,"border-info border-start border-3":"info"===e.type}])},[i("div",ke,[i("h6",xe,n(e.title),1),i("small",{class:d(`text-${e.type}`)},n(e.time),3)]),i("p",we,n(e.message),1),i("small",Te,n(e.source),1)],2)))),128))])])])])])])}}},[["__scopeId","data-v-5c13ec2e"]]);export{Me as default};
